(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{36:function(e,t,a){},38:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(28),s=a.n(r),o=(a(36),a(10)),i=a(2),l=a(9),u=a.n(l),j=a(11),b=a(4),d=(a(38),a.p+"static/media/logo.99e5f780.svg"),p=a.p+"static/media/heroes.b413d9df.png",h=a(29),O=a.n(h).a.create({baseURL:"https://omnistack11-guilfer.herokuapp.com"}),m=a(0);var x=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(b.a)(t,2),c=a[0],r=a[1];function s(){return(s=Object(j.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,O.post("sessions",{id:c});case 4:n=t.sent,localStorage.setItem("ong_id",c),localStorage.setItem("name",n.data.name),e.push("/profile"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),alert("Erro ao cadastrar, tente novamente");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsxs)("section",{className:"form",children:[Object(m.jsx)("img",{src:d,alt:"Be the Hero"}),Object(m.jsxs)("form",{onSubmit:function(e){return s.apply(this,arguments)},children:[Object(m.jsx)("h1",{children:"Fa\xe7a seu login"}),Object(m.jsx)("input",{placeholder:"Seu ID",value:c,onChange:function(e){return r(e.target.value)}}),Object(m.jsx)("button",{className:"button",type:"submit",children:"Entrar"}),Object(m.jsxs)(o.b,{className:"back-link",to:"/register",children:[Object(m.jsx)("i",{className:"material-icons",style:{color:"#e02041",fontSize:"16px",marginRight:"8px"},children:"login"}),"N\xe3o tenho cadastro"]})]})]}),Object(m.jsx)("img",{src:p,alt:"Heores"})]})};a(63);var f=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(b.a)(r,2),l=s[0],p=s[1],h=Object(n.useState)(""),x=Object(b.a)(h,2),f=x[0],v=x[1],g=Object(n.useState)(""),N=Object(b.a)(g,2),S=N[0],y=N[1],k=Object(n.useState)(""),w=Object(b.a)(k,2),C=w[0],I=w[1],_=Object(i.f)();function R(){return(R=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:a,email:l,whatsapp:f,city:S,uf:C},e.prev=2,e.next=5,O.post("ongs",n);case 5:c=e.sent,alert("Seu ID de acesso: ".concat(c.data.id)),_.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Erro ao cadastrar, tente novamente");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"register-container",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("section",{className:"form",children:[Object(m.jsx)("img",{src:d,alt:"Be the Hero"}),Object(m.jsx)("h1",{children:"Cadastro"}),Object(m.jsx)("p",{children:"Fa\xe7a o seu, entre na plataforma e ajude pessoas a encontrarem os cados da sua ONG!"}),Object(m.jsxs)(o.b,{className:"back-link",to:"/",children:[Object(m.jsx)("i",{className:"material-icons",style:{color:"#e02041",fontSize:"16px",marginRight:"8px"},children:"subdirectory_arrow_left"}),"Voltar para p\xe1gina de login"]})]}),Object(m.jsxs)("form",{onSubmit:function(e){return R.apply(this,arguments)},children:[Object(m.jsx)("input",{placeholder:"Nome da Ong",value:a,onChange:function(e){return c(e.target.value)}}),Object(m.jsx)("input",{type:"email",placeholder:"E-mail",value:l,onChange:function(e){return p(e.target.value)}}),Object(m.jsx)("input",{placeholder:"WhatsApp",value:f,onChange:function(e){return v(e.target.value)}}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{placeholder:"Cidade",value:S,onChange:function(e){return y(e.target.value)}}),Object(m.jsx)("input",{placeholder:"UF",style:{width:80},value:C,onChange:function(e){return I(e.target.value)}})]}),Object(m.jsx)("button",{className:"button",type:"submit",children:"Cadastrar"})]})]})})};a(64);var v=function(){var e=Object(i.f)(),t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],r=a[1],s=localStorage.getItem("ong_id"),l=localStorage.getItem("name");function p(){return(p=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("incidents/".concat(t),{headers:{Authorization:s}});case 3:r(c.filter((function(e){return e.id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Erro ao deletar caso, tente novamente.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){O.get("profile",{headers:{Authorization:s}}).then((function(e){return r(e.data)}))}),[s]),Object(m.jsxs)("div",{className:"profile-container",children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("img",{src:d,alt:"Be the Hero"}),Object(m.jsxs)("span",{children:["Bem vinda, ",l]}),Object(m.jsx)(o.b,{className:"button",to:"/incidents/new",children:"Cadastrar novo caso"}),Object(m.jsx)("button",{className:"logout-buttom",type:"button",onClick:function(){localStorage.clear(),e.push("/")},children:Object(m.jsx)("i",{className:"material-icons",style:{color:"#e02041",lineHeight:0},children:"power_settings_new"})})]}),Object(m.jsx)("h1",{children:"Casos cadastrados"}),Object(m.jsx)("ul",{children:c.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsx)("strong",{children:"CASO: "}),Object(m.jsx)("p",{children:e.title}),Object(m.jsx)("strong",{children:"DESCRI\xc7\xc3O"}),Object(m.jsx)("p",{children:e.discription}),Object(m.jsx)("strong",{children:"VALOR"}),Object(m.jsx)("p",{children:Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.value)}),Object(m.jsx)("button",{type:"button",onClick:function(){return function(e){return p.apply(this,arguments)}(e.id)},children:Object(m.jsx)("i",{class:"material-icons",children:"delete_forever"})})]},e.id)}))})]})};a(65);var g=function(){var e=Object(i.f)(),t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),l=Object(b.a)(s,2),p=l[0],h=l[1],x=Object(n.useState)([]),f=Object(b.a)(x,2),v=f[0],g=f[1],N=localStorage.getItem("ong_id");function S(){return(S=Object(j.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={title:c,discription:p,value:v},t.prev=2,t.next=5,O.post("/incidents",n,{headers:{Authorization:N}});case 5:e.push("/profile"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),alert("N\xe3o foi poss\xedvel cadastrar novo incidente, tente novamente");case 11:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"new-incident-container",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("section",{className:"form",children:[Object(m.jsx)("img",{src:d,alt:"Be the Hero"}),Object(m.jsx)("h1",{children:"Cadastrar novo caso"}),Object(m.jsx)("p",{children:"Cadastre o caso detalhadamente para encontrar um her\xf3i!"}),Object(m.jsxs)(o.b,{className:"back-link",to:"/profile",children:[Object(m.jsx)("i",{className:"material-icons",style:{color:"#e02041",fontSize:"16px",marginRight:"8px"},children:"subdirectory_arrow_left"}),"Voltar para Home"]})]}),Object(m.jsxs)("form",{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(m.jsx)("input",{placeholder:"Titulo do caso",value:c,onChange:function(e){return r(e.target.value)}}),Object(m.jsx)("textarea",{placeholder:"Descri\xe7\xe3o",value:p,onChange:function(e){return h(e.target.value)}}),Object(m.jsx)("input",{placeholder:"Valor em R$",value:v,onChange:function(e){return g(e.target.value)}}),Object(m.jsx)("button",{className:"button",type:"submit",children:"Cadastrar"})]})]})})};var N=function(){return Object(m.jsx)(o.a,{basename:"/Semana-Omnistack-11",children:Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/",component:x}),Object(m.jsx)(i.a,{path:"/register",component:f}),Object(m.jsx)(i.a,{path:"/profile",component:v}),Object(m.jsx)(i.a,{path:"/incidents/new",component:g})]})})};var S=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(N,{})})};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.58df43f4.chunk.js.map